<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GBIF scientific name matching • inborutils</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="GBIF scientific name matching">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">inborutils</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/guess_projection.html">Verify point coordinate reference system</a>
    </li>
    <li>
      <a href="../articles/gbif_name_match.html">Matching scientific names in data.frame to GBIF backbone</a>
    </li>
    <li>
      <a href="../articles/data_loaders_examples.html">Reading data files external sources</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../CONTRIBUTING.html">Contributing</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/inbo/inborutils">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>GBIF scientific name matching</h1>
                        <h4 class="author">Stijn Van Hoey</h4>
            
            <h4 class="date">2019-03-26</h4>
      
      
      <div class="hidden name"><code>gbif_name_match.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>Working with different partners/institutes/researchers results in a diversity of taxonomic names to define species. This hardens comparison amongst datasets, as in many occasions, aggregation is aimed for or filtering on specific species. By translating all species names to a common taxonomic backbone (ensuring unique ID’s for each species name), this can be done. The <code>gbif_species_name_match</code> function supports matching with the GBIF taxonomic backbone.</p>
</div>
<div id="aim" class="section level2">
<h2 class="hasAnchor">
<a href="#aim" class="anchor"></a>Aim</h2>
<p>This function provides the functionality to add the species information from the GBIF backbone to <strong>any data table (<code>data.frame</code>)</strong> by requesting this information via the GBIF API. For each match, the corresponding accepted name is looked for. Nevertheless there will always be errors and control is still required!</p>
</div>
<div id="functionality" class="section level2">
<h2 class="hasAnchor">
<a href="#functionality" class="anchor"></a>Functionality</h2>
<p>The <code>gbif_species_name_match</code> function extends the matching function provided by <a href="https://github.com/ropensci/rgbif">Rgbif</a> to be compatible with a <code>data.frame</code> data structure.</p>
<p>Loading the functionality can be done by loading the <code>inborutils</code> package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(inborutils)</a></code></pre></div>
<p>Consider the example data set <code>species_example</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">knitr<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(species_example)</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">scientificName</th>
<th align="left">kingdom</th>
<th align="left">euConcernStatus</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Alopochen aegyptiaca</td>
<td align="left">Animalia</td>
<td align="left">under consideration</td>
</tr>
<tr class="even">
<td align="left">Cotoneaster ganghobaensis</td>
<td align="left">Plantae</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Cotoneaster hylmoei</td>
<td align="left">Plantae</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>To add the species information, using the <code>scientificName</code> column, and the default fields:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">my_data_update &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gbif_species_name_match.html">gbif_species_name_match</a></span>(species_example, </a>
<a class="sourceLine" id="cb3-2" data-line-number="2">                                          <span class="dt">name_col =</span> <span class="st">"scientificName"</span>)</a></code></pre></div>
<pre><code>## [1] "All column names present"</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">knitr<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(my_data_update)</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">scientificName</th>
<th align="left">kingdom</th>
<th align="left">euConcernStatus</th>
<th align="right">usageKey</th>
<th align="left">rank</th>
<th align="left">order</th>
<th align="left">matchType</th>
<th align="left">phylum</th>
<th align="left">genus</th>
<th align="left">class</th>
<th align="right">confidence</th>
<th align="left">synonym</th>
<th align="left">status</th>
<th align="left">family</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Alopochen aegyptiaca</td>
<td align="left">Animalia</td>
<td align="left">under consideration</td>
<td align="right">2498252</td>
<td align="left">SPECIES</td>
<td align="left">Anseriformes</td>
<td align="left">EXACT</td>
<td align="left">Chordata</td>
<td align="left">Alopochen</td>
<td align="left">Aves</td>
<td align="right">98</td>
<td align="left">FALSE</td>
<td align="left">ACCEPTED</td>
<td align="left">Anatidae</td>
</tr>
<tr class="even">
<td align="left">Cotoneaster ganghobaensis</td>
<td align="left">Plantae</td>
<td align="left"></td>
<td align="right">3025989</td>
<td align="left">SPECIES</td>
<td align="left">Rosales</td>
<td align="left">EXACT</td>
<td align="left">Tracheophyta</td>
<td align="left">Cotoneaster</td>
<td align="left">Magnoliopsida</td>
<td align="right">98</td>
<td align="left">FALSE</td>
<td align="left">ACCEPTED</td>
<td align="left">Rosaceae</td>
</tr>
<tr class="odd">
<td align="left">Cotoneaster hylmoei</td>
<td align="left">Plantae</td>
<td align="left"></td>
<td align="right">3025758</td>
<td align="left">SPECIES</td>
<td align="left">Rosales</td>
<td align="left">EXACT</td>
<td align="left">Tracheophyta</td>
<td align="left">Cotoneaster</td>
<td align="left">Magnoliopsida</td>
<td align="right">98</td>
<td align="left">FALSE</td>
<td align="left">ACCEPTED</td>
<td align="left">Rosaceae</td>
</tr>
</tbody>
</table>
<p>When not satisfied by the default fields provided ´(‘usageKey’,‘scientificName’,‘rank’,‘order’,‘matchType’,‘phylum’, ‘kingdom’,‘genus’, ‘class’,‘confidence’, ‘synonym’, ‘status’,‘family’)´, you can alter these by the <code>gbif_terms</code> argument, for example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">gbif_terms_to_use &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'scientificName'</span>, <span class="st">'order'</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">my_data_update &lt;-<span class="st"> </span><span class="kw"><a href="../reference/gbif_species_name_match.html">gbif_species_name_match</a></span>(species_example, </a>
<a class="sourceLine" id="cb6-3" data-line-number="3">                                              <span class="dt">name_col =</span> <span class="st">"scientificName"</span> , </a>
<a class="sourceLine" id="cb6-4" data-line-number="4">                                              <span class="dt">gbif_terms =</span> gbif_terms_to_use)</a></code></pre></div>
<pre><code>## [1] "All column names present"</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">knitr<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(my_data_update)</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">scientificName</th>
<th align="left">kingdom</th>
<th align="left">euConcernStatus</th>
<th align="left">order</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Alopochen aegyptiaca</td>
<td align="left">Animalia</td>
<td align="left">under consideration</td>
<td align="left">Anseriformes</td>
</tr>
<tr class="even">
<td align="left">Cotoneaster ganghobaensis</td>
<td align="left">Plantae</td>
<td align="left"></td>
<td align="left">Rosales</td>
</tr>
<tr class="odd">
<td align="left">Cotoneaster hylmoei</td>
<td align="left">Plantae</td>
<td align="left"></td>
<td align="left">Rosales</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#aim">Aim</a></li>
      <li><a href="#functionality">Functionality</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Stijn Van Hoey, Pieter Verschelde, Thierry Onkelinx.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
